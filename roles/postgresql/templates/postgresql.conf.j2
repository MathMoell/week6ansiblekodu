# PostgreSQL Configuration Template

# PostgreSQL main configuration file
# This template is used to generate the postgresql.conf file based on provided variables.

# PostgreSQL version
# This should match the version specified in defaults/main.yml
# Example: 13
# version = {{ postgresql_version }}

# Connection settings
listen_addresses = '{{ postgresql_listen_addresses }}'  # Comma-separated list of addresses to listen on
port = {{ postgresql_port }}  # Default is 5432

# Logging settings
log_destination = 'stderr'
logging_collector = on
log_directory = 'pg_log'
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'
log_statement = '{{ postgresql_log_statement }}'  # Options: none, ddl, mod, all

# Memory settings
shared_buffers = {{ postgresql_shared_buffers }}  # Typically 25% of system memory
work_mem = {{ postgresql_work_mem }}  # Memory for internal sort operations

# Connection settings
max_connections = {{ postgresql_max_connections }}  # Maximum number of concurrent connections

# Authentication settings
# Include any additional authentication settings as needed

# Additional configuration options can be added below
# Example: 
# effective_cache_size = {{ postgresql_effective_cache_size }}  # Typically 50-75% of system memory

# End of PostgreSQL configuration file